{"ast":null,"code":"var _jsxFileName = \"/home/dehlia/prospection/tableau-entreprises/frontend/src/MapProspect.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix des icônes Leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'\n});\nexport default function MapProspects() {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markersRef = useRef([]);\n  const [data, setData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [companyName, setCompanyName] = useState('');\n  const [postalCode, setPostalCode] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [center, setCenter] = useState({\n    lat: 48.8566,\n    lng: 2.3522\n  });\n  const [filters, setFilters] = useState({\n    radius: 50,\n    hasPhone: false,\n    hasEmail: false,\n    sector: ''\n  });\n\n  // Init map\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    if (!mapRef.current || mapInstance.current) return;\n    const map = L.map(mapRef.current).setView([center.lat, center.lng], 6);\n    mapInstance.current = map;\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      maxZoom: 19,\n      attribution: '&copy; OpenStreetMap contributors'\n    }).addTo(map);\n    return () => {\n      map.remove();\n      mapInstance.current = null;\n    };\n  }, []);\n\n  // Nettoyage / MAJ des markers\n  const renderMarkers = useCallback(() => {\n    if (!mapInstance.current) return;\n    markersRef.current.forEach(m => m.remove());\n    markersRef.current = [];\n    filteredData.forEach(company => {\n      if (!company.latitude || !company.longitude) return;\n      const lat = parseFloat(company.latitude);\n      const lng = parseFloat(company.longitude);\n      if (Number.isNaN(lat) || Number.isNaN(lng)) return;\n      const marker = L.marker([lat, lng]).addTo(mapInstance.current);\n      markersRef.current.push(marker);\n      const popupContent = `\n        <div style=\"font-size: 14px\">\n          <strong>${company.name}</strong><br/>\n          ${company.address || ''}<br/>\n          ${company.code_postal || ''} ${company.ville || ''}<br/>\n          NAF: ${company.naf || ''}<br/>\n          Secteur: ${company.sector || ''}<br/>\n          ${company.site ? `<a href=\"${company.site}\" target=\"_blank\">Site web</a><br/>` : ''}\n          ${company.telephone ? `Tel: ${company.telephone}<br/>` : ''}\n        </div>\n      `;\n      marker.bindPopup(popupContent);\n    });\n  }, [filteredData]);\n  useEffect(() => {\n    renderMarkers();\n  }, [renderMarkers]);\n\n  // Filtrage simple (téléphone / email / secteur)\n  const applyFilters = useCallback(() => {\n    let result = [...data];\n    if (filters.hasPhone) {\n      result = result.filter(c => c.telephone);\n    }\n    if (filters.hasEmail) {\n      result = result.filter(c => Array.isArray(c.contacts) && c.contacts.some(ct => ct.email));\n    }\n    if (filters.sector) {\n      const s = filters.sector.toLowerCase();\n      result = result.filter(c => (c.sector || '').toLowerCase().includes(s) || (c.naf || '').includes(s));\n    }\n    setFilteredData(result);\n  }, [data, filters]);\n  useEffect(() => {\n    applyFilters();\n  }, [data, filters, applyFilters]);\n\n  // Géocoder un code postal côté front\n  const geocodePostal = async cp => {\n    var _json$features;\n    const res = await fetch(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(cp)}&limit=1`);\n    const json = await res.json();\n    const feat = (_json$features = json.features) === null || _json$features === void 0 ? void 0 : _json$features[0];\n    if (!feat) return null;\n    const [lon, lat] = feat.geometry.coordinates;\n    return {\n      lat,\n      lng: lon\n    };\n  };\n\n  // Soumission du formulaire\n  const handleSearch = async e => {\n    if (e) e.preventDefault();\n    if (!companyName || !postalCode) {\n      setError('Nom et code postal requis');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch('http://localhost:5000/prospect', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          companyName,\n          postalCode,\n          radiusKm: filters.radius || 100\n        })\n      });\n      const text = await res.text();\n      let js = null;\n      try {\n        js = text ? JSON.parse(text) : null;\n      } catch (parseErr) {\n        setError(`Réponse inattendue du serveur (status ${res.status})`);\n        setLoading(false);\n        return;\n      }\n      if (!res.ok) {\n        var _js;\n        setError(((_js = js) === null || _js === void 0 ? void 0 : _js.error) || `Erreur serveur (${res.status})`);\n        setLoading(false);\n        return;\n      }\n      const companies = (js.data || []).map((c, i) => ({\n        id: i,\n        name: c.nom || c.nom_entreprise || 'Inconnu',\n        address: c.adresse || c.adresse_siege || '',\n        sector: c.secteur || c.libelle_activite_principale || c.libelle_naf || '',\n        site: c.site_web || c.site || '',\n        telephone: c.telephone || '',\n        contacts: c.contacts || [],\n        latitude: c.latitude || c.lat || null,\n        longitude: c.longitude || c.lng || null,\n        ville: c.ville || '',\n        code_postal: c.code_postal || '',\n        naf: c.naf || c.activite_principale || '',\n        siren: c.siren || `temp-${i}`\n      }));\n      setData(companies);\n\n      // Centre sur le code postal saisi\n      const centerFromCp = await geocodePostal(postalCode);\n      if (centerFromCp && mapInstance.current) {\n        mapInstance.current.setView([centerFromCp.lat, centerFromCp.lng], 11);\n        setCenter(centerFromCp);\n      }\n    } catch (err) {\n      setError(err.message || 'Erreur réseau');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFilterChange = (field, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '380px',\n        padding: '12px',\n        overflowY: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Prospection par carte\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        style: {\n          marginBottom: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nom de l'entreprise de r\\xE9f\\xE9rence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: companyName,\n            onChange: e => setCompanyName(e.target.value),\n            placeholder: \"Ex: Castorama\",\n            style: {\n              width: '100%',\n              padding: '6px',\n              marginTop: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Code postal de r\\xE9f\\xE9rence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: postalCode,\n            onChange: e => setPostalCode(e.target.value),\n            placeholder: \"Ex: 75015\",\n            style: {\n              width: '100%',\n              padding: '6px',\n              marginTop: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Rayon (km) : \", filters.radius]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: 1,\n            max: 100,\n            value: filters.radius,\n            onChange: e => handleFilterChange('radius', Number(e.target.value)),\n            style: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          style: {\n            width: '100%'\n          },\n          children: loading ? 'Recherche...' : 'Chercher'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Filtres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: filters.hasPhone,\n            onChange: e => handleFilterChange('hasPhone', e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), ' ', \"Avec t\\xE9l\\xE9phone\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: filters.hasEmail,\n            onChange: e => handleFilterChange('hasEmail', e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), ' ', \"Avec email\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: filters.sector,\n          onChange: e => handleFilterChange('sector', e.target.value),\n          placeholder: \"Filtrer par secteur / NAF\",\n          style: {\n            width: '100%',\n            padding: '6px',\n            marginTop: '4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          marginBottom: '8px'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Entreprises trouv\\xE9es (\", filteredData.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            listStyle: 'none',\n            padding: 0,\n            maxHeight: '300px',\n            overflowY: 'auto'\n          },\n          children: filteredData.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              borderBottom: '1px solid #ccc',\n              padding: '6px 0',\n              cursor: 'pointer'\n            },\n            onClick: () => {\n              if (c.latitude && c.longitude && mapInstance.current) {\n                const lat = parseFloat(c.latitude);\n                const lng = parseFloat(c.longitude);\n                if (!Number.isNaN(lat) && !Number.isNaN(lng)) {\n                  mapInstance.current.setView([lat, lng], 13);\n                }\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: c.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), c.address, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), c.code_postal, \" \", c.ville, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this), c.naf, \" - \", c.sector]\n          }, c.siren, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: mapRef,\n        style: {\n          width: '100%',\n          height: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n}\n_s(MapProspects, \"39BHq7EJDdDNH1maqYuebLLwnos=\");\n_c = MapProspects;\nvar _c;\n$RefreshReg$(_c, \"MapProspects\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","MapProspects","_s","mapRef","mapInstance","markersRef","data","setData","filteredData","setFilteredData","companyName","setCompanyName","postalCode","setPostalCode","loading","setLoading","error","setError","center","setCenter","lat","lng","filters","setFilters","radius","hasPhone","hasEmail","sector","current","map","setView","tileLayer","maxZoom","attribution","addTo","remove","renderMarkers","forEach","m","company","latitude","longitude","parseFloat","Number","isNaN","marker","push","popupContent","name","address","code_postal","ville","naf","site","telephone","bindPopup","applyFilters","result","filter","c","Array","isArray","contacts","some","ct","email","s","toLowerCase","includes","geocodePostal","cp","_json$features","res","fetch","encodeURIComponent","json","feat","features","lon","geometry","coordinates","handleSearch","e","preventDefault","method","headers","body","JSON","stringify","radiusKm","text","js","parse","parseErr","status","ok","_js","companies","i","id","nom","nom_entreprise","adresse","adresse_siege","secteur","libelle_activite_principale","libelle_naf","site_web","activite_principale","siren","centerFromCp","err","message","handleFilterChange","field","value","prev","style","display","height","children","width","padding","overflowY","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","marginBottom","type","onChange","target","placeholder","marginTop","min","max","disabled","checked","color","length","listStyle","maxHeight","borderBottom","cursor","onClick","flex","ref","_c","$RefreshReg$"],"sources":["/home/dehlia/prospection/tableau-entreprises/frontend/src/MapProspect.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix des icônes Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\n});\n\nexport default function MapProspects() {\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markersRef = useRef([]);\n\n  const [data, setData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n\n  const [companyName, setCompanyName] = useState('');\n  const [postalCode, setPostalCode] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [center, setCenter] = useState({ lat: 48.8566, lng: 2.3522 });\n\n  const [filters, setFilters] = useState({\n    radius: 50,\n    hasPhone: false,\n    hasEmail: false,\n    sector: '',\n  });\n\n  // Init map\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    if (!mapRef.current || mapInstance.current) return;\n\n    const map = L.map(mapRef.current).setView([center.lat, center.lng], 6);\n    mapInstance.current = map;\n\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      maxZoom: 19,\n      attribution: '&copy; OpenStreetMap contributors',\n    }).addTo(map);\n\n    return () => {\n      map.remove();\n      mapInstance.current = null;\n    };\n  }, []);\n\n  // Nettoyage / MAJ des markers\n  const renderMarkers = useCallback(() => {\n    if (!mapInstance.current) return;\n\n    markersRef.current.forEach((m) => m.remove());\n    markersRef.current = [];\n\n    filteredData.forEach((company) => {\n      if (!company.latitude || !company.longitude) return;\n      const lat = parseFloat(company.latitude);\n      const lng = parseFloat(company.longitude);\n      if (Number.isNaN(lat) || Number.isNaN(lng)) return;\n\n      const marker = L.marker([lat, lng]).addTo(mapInstance.current);\n      markersRef.current.push(marker);\n\n      const popupContent = `\n        <div style=\"font-size: 14px\">\n          <strong>${company.name}</strong><br/>\n          ${company.address || ''}<br/>\n          ${company.code_postal || ''} ${company.ville || ''}<br/>\n          NAF: ${company.naf || ''}<br/>\n          Secteur: ${company.sector || ''}<br/>\n          ${company.site ? `<a href=\"${company.site}\" target=\"_blank\">Site web</a><br/>` : ''}\n          ${company.telephone ? `Tel: ${company.telephone}<br/>` : ''}\n        </div>\n      `;\n      marker.bindPopup(popupContent);\n    });\n  }, [filteredData]);\n\n  useEffect(() => {\n    renderMarkers();\n  }, [renderMarkers]);\n\n  // Filtrage simple (téléphone / email / secteur)\n  const applyFilters = useCallback(() => {\n    let result = [...data];\n\n    if (filters.hasPhone) {\n      result = result.filter((c) => c.telephone);\n    }\n    if (filters.hasEmail) {\n      result = result.filter(\n        (c) => Array.isArray(c.contacts) && c.contacts.some((ct) => ct.email)\n      );\n    }\n    if (filters.sector) {\n      const s = filters.sector.toLowerCase();\n      result = result.filter(\n        (c) => (c.sector || '').toLowerCase().includes(s) || (c.naf || '').includes(s)\n      );\n    }\n\n    setFilteredData(result);\n  }, [data, filters]);\n\n  useEffect(() => {\n    applyFilters();\n  }, [data, filters, applyFilters]);\n\n  // Géocoder un code postal côté front\n  const geocodePostal = async (cp) => {\n    const res = await fetch(\n      `https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(cp)}&limit=1`\n    );\n    const json = await res.json();\n    const feat = json.features?.[0];\n    if (!feat) return null;\n    const [lon, lat] = feat.geometry.coordinates;\n    return { lat, lng: lon };\n  };\n\n  // Soumission du formulaire\n  const handleSearch = async (e) => {\n    if (e) e.preventDefault();\n\n    if (!companyName || !postalCode) {\n      setError('Nom et code postal requis');\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const res = await fetch('http://localhost:5000/prospect', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          companyName,\n          postalCode,\n          radiusKm: filters.radius || 100,\n        }),\n      });\n\n      const text = await res.text();\n      let js = null;\n      try {\n        js = text ? JSON.parse(text) : null;\n      } catch (parseErr) {\n        setError(`Réponse inattendue du serveur (status ${res.status})`);\n        setLoading(false);\n        return;\n      }\n\n      if (!res.ok) {\n        setError(js?.error || `Erreur serveur (${res.status})`);\n        setLoading(false);\n        return;\n      }\n\n      const companies = (js.data || []).map((c, i) => ({\n        id: i,\n        name: c.nom || c.nom_entreprise || 'Inconnu',\n        address: c.adresse || c.adresse_siege || '',\n        sector:\n          c.secteur ||\n          c.libelle_activite_principale ||\n          c.libelle_naf ||\n          '',\n        site: c.site_web || c.site || '',\n        telephone: c.telephone || '',\n        contacts: c.contacts || [],\n        latitude: c.latitude || c.lat || null,\n        longitude: c.longitude || c.lng || null,\n        ville: c.ville || '',\n        code_postal: c.code_postal || '',\n        naf: c.naf || c.activite_principale || '',\n        siren: c.siren || `temp-${i}`,\n      }));\n\n      setData(companies);\n\n      // Centre sur le code postal saisi\n      const centerFromCp = await geocodePostal(postalCode);\n      if (centerFromCp && mapInstance.current) {\n        mapInstance.current.setView([centerFromCp.lat, centerFromCp.lng], 11);\n        setCenter(centerFromCp);\n      }\n    } catch (err) {\n      setError(err.message || 'Erreur réseau');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFilterChange = (field, value) => {\n    setFilters((prev) => ({\n      ...prev,\n      [field]: value,\n    }));\n  };\n\n  return (\n    <div style={{ display: 'flex', height: '100vh' }}>\n      {/* Panneau gauche : formulaire + filtres + liste */}\n      <div style={{ width: '380px', padding: '12px', overflowY: 'auto' }}>\n        <h2>Prospection par carte</h2>\n\n        <form onSubmit={handleSearch} style={{ marginBottom: '12px' }}>\n          <div style={{ marginBottom: '8px' }}>\n            <label>Nom de l&apos;entreprise de référence</label>\n            <input\n              type=\"text\"\n              value={companyName}\n              onChange={(e) => setCompanyName(e.target.value)}\n              placeholder=\"Ex: Castorama\"\n              style={{ width: '100%', padding: '6px', marginTop: '4px' }}\n            />\n          </div>\n\n          <div style={{ marginBottom: '8px' }}>\n            <label>Code postal de référence</label>\n            <input\n              type=\"text\"\n              value={postalCode}\n              onChange={(e) => setPostalCode(e.target.value)}\n              placeholder=\"Ex: 75015\"\n              style={{ width: '100%', padding: '6px', marginTop: '4px' }}\n            />\n          </div>\n\n          <div style={{ marginBottom: '8px' }}>\n            <label>Rayon (km) : {filters.radius}</label>\n            <input\n              type=\"range\"\n              min={1}\n              max={100}\n              value={filters.radius}\n              onChange={(e) =>\n                handleFilterChange('radius', Number(e.target.value))\n              }\n              style={{ width: '100%' }}\n            />\n          </div>\n\n          <button type=\"submit\" disabled={loading} style={{ width: '100%' }}>\n            {loading ? 'Recherche...' : 'Chercher'}\n          </button>\n        </form>\n\n        <div style={{ marginBottom: '8px' }}>\n          <h4>Filtres</h4>\n          <label>\n            <input\n              type=\"checkbox\"\n              checked={filters.hasPhone}\n              onChange={(e) => handleFilterChange('hasPhone', e.target.checked)}\n            />\n            {' '}Avec téléphone\n          </label>\n          <br />\n          <label>\n            <input\n              type=\"checkbox\"\n              checked={filters.hasEmail}\n              onChange={(e) => handleFilterChange('hasEmail', e.target.checked)}\n            />\n            {' '}Avec email\n          </label>\n          <br />\n          <input\n            type=\"text\"\n            value={filters.sector}\n            onChange={(e) => handleFilterChange('sector', e.target.value)}\n            placeholder=\"Filtrer par secteur / NAF\"\n            style={{ width: '100%', padding: '6px', marginTop: '4px' }}\n          />\n        </div>\n\n        {error && (\n          <div style={{ color: 'red', marginBottom: '8px' }}>{error}</div>\n        )}\n\n        <div>\n          <h4>Entreprises trouvées ({filteredData.length})</h4>\n          <ul style={{ listStyle: 'none', padding: 0, maxHeight: '300px', overflowY: 'auto' }}>\n            {filteredData.map((c) => (\n              <li\n                key={c.siren}\n                style={{\n                  borderBottom: '1px solid #ccc',\n                  padding: '6px 0',\n                  cursor: 'pointer',\n                }}\n                onClick={() => {\n                  if (c.latitude && c.longitude && mapInstance.current) {\n                    const lat = parseFloat(c.latitude);\n                    const lng = parseFloat(c.longitude);\n                    if (!Number.isNaN(lat) && !Number.isNaN(lng)) {\n                      mapInstance.current.setView([lat, lng], 13);\n                    }\n                  }\n                }}\n              >\n                <strong>{c.name}</strong>\n                <br />\n                {c.address}\n                <br />\n                {c.code_postal} {c.ville}\n                <br />\n                {c.naf} - {c.sector}\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n\n      {/* Carte */}\n      <div style={{ flex: 1 }}>\n        <div\n          ref={mapRef}\n          style={{ width: '100%', height: '100%' }}\n        />\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;;AAEjC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOF,CAAC,CAACG,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CN,CAAC,CAACG,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAE,gEAAgE;EAC/EC,OAAO,EAAE,6DAA6D;EACtEC,SAAS,EAAE;AACb,CAAC,CAAC;AAEF,eAAe,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACrC,MAAMC,MAAM,GAAGhB,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAMiB,WAAW,GAAGjB,MAAM,CAAC,IAAI,CAAC;EAChC,MAAMkB,UAAU,GAAGlB,MAAM,CAAC,EAAE,CAAC;EAE7B,MAAM,CAACmB,IAAI,EAAEC,OAAO,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACoB,YAAY,EAAEC,eAAe,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAM,CAACsB,WAAW,EAAEC,cAAc,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACwB,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC4B,KAAK,EAAEC,QAAQ,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAM,CAAC8B,MAAM,EAAEC,SAAS,CAAC,GAAG/B,QAAQ,CAAC;IAAEgC,GAAG,EAAE,OAAO;IAAEC,GAAG,EAAE;EAAO,CAAC,CAAC;EAEnE,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGnC,QAAQ,CAAC;IACrCoC,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE,KAAK;IACfC,QAAQ,EAAE,KAAK;IACfC,MAAM,EAAE;EACV,CAAC,CAAC;;EAEF;EACA;EACAzC,SAAS,CAAC,MAAM;IACd,IAAI,CAACiB,MAAM,CAACyB,OAAO,IAAIxB,WAAW,CAACwB,OAAO,EAAE;IAE5C,MAAMC,GAAG,GAAGvC,CAAC,CAACuC,GAAG,CAAC1B,MAAM,CAACyB,OAAO,CAAC,CAACE,OAAO,CAAC,CAACZ,MAAM,CAACE,GAAG,EAAEF,MAAM,CAACG,GAAG,CAAC,EAAE,CAAC,CAAC;IACtEjB,WAAW,CAACwB,OAAO,GAAGC,GAAG;IAEzBvC,CAAC,CAACyC,SAAS,CAAC,oDAAoD,EAAE;MAChEC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE;IACf,CAAC,CAAC,CAACC,KAAK,CAACL,GAAG,CAAC;IAEb,OAAO,MAAM;MACXA,GAAG,CAACM,MAAM,CAAC,CAAC;MACZ/B,WAAW,CAACwB,OAAO,GAAG,IAAI;IAC5B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMQ,aAAa,GAAG/C,WAAW,CAAC,MAAM;IACtC,IAAI,CAACe,WAAW,CAACwB,OAAO,EAAE;IAE1BvB,UAAU,CAACuB,OAAO,CAACS,OAAO,CAAEC,CAAC,IAAKA,CAAC,CAACH,MAAM,CAAC,CAAC,CAAC;IAC7C9B,UAAU,CAACuB,OAAO,GAAG,EAAE;IAEvBpB,YAAY,CAAC6B,OAAO,CAAEE,OAAO,IAAK;MAChC,IAAI,CAACA,OAAO,CAACC,QAAQ,IAAI,CAACD,OAAO,CAACE,SAAS,EAAE;MAC7C,MAAMrB,GAAG,GAAGsB,UAAU,CAACH,OAAO,CAACC,QAAQ,CAAC;MACxC,MAAMnB,GAAG,GAAGqB,UAAU,CAACH,OAAO,CAACE,SAAS,CAAC;MACzC,IAAIE,MAAM,CAACC,KAAK,CAACxB,GAAG,CAAC,IAAIuB,MAAM,CAACC,KAAK,CAACvB,GAAG,CAAC,EAAE;MAE5C,MAAMwB,MAAM,GAAGvD,CAAC,CAACuD,MAAM,CAAC,CAACzB,GAAG,EAAEC,GAAG,CAAC,CAAC,CAACa,KAAK,CAAC9B,WAAW,CAACwB,OAAO,CAAC;MAC9DvB,UAAU,CAACuB,OAAO,CAACkB,IAAI,CAACD,MAAM,CAAC;MAE/B,MAAME,YAAY,GAAG;AAC3B;AACA,oBAAoBR,OAAO,CAACS,IAAI;AAChC,YAAYT,OAAO,CAACU,OAAO,IAAI,EAAE;AACjC,YAAYV,OAAO,CAACW,WAAW,IAAI,EAAE,IAAIX,OAAO,CAACY,KAAK,IAAI,EAAE;AAC5D,iBAAiBZ,OAAO,CAACa,GAAG,IAAI,EAAE;AAClC,qBAAqBb,OAAO,CAACZ,MAAM,IAAI,EAAE;AACzC,YAAYY,OAAO,CAACc,IAAI,GAAG,YAAYd,OAAO,CAACc,IAAI,qCAAqC,GAAG,EAAE;AAC7F,YAAYd,OAAO,CAACe,SAAS,GAAG,QAAQf,OAAO,CAACe,SAAS,OAAO,GAAG,EAAE;AACrE;AACA,OAAO;MACDT,MAAM,CAACU,SAAS,CAACR,YAAY,CAAC;IAChC,CAAC,CAAC;EACJ,CAAC,EAAE,CAACvC,YAAY,CAAC,CAAC;EAElBtB,SAAS,CAAC,MAAM;IACdkD,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;;EAEnB;EACA,MAAMoB,YAAY,GAAGnE,WAAW,CAAC,MAAM;IACrC,IAAIoE,MAAM,GAAG,CAAC,GAAGnD,IAAI,CAAC;IAEtB,IAAIgB,OAAO,CAACG,QAAQ,EAAE;MACpBgC,MAAM,GAAGA,MAAM,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACL,SAAS,CAAC;IAC5C;IACA,IAAIhC,OAAO,CAACI,QAAQ,EAAE;MACpB+B,MAAM,GAAGA,MAAM,CAACC,MAAM,CACnBC,CAAC,IAAKC,KAAK,CAACC,OAAO,CAACF,CAAC,CAACG,QAAQ,CAAC,IAAIH,CAAC,CAACG,QAAQ,CAACC,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACC,KAAK,CACtE,CAAC;IACH;IACA,IAAI3C,OAAO,CAACK,MAAM,EAAE;MAClB,MAAMuC,CAAC,GAAG5C,OAAO,CAACK,MAAM,CAACwC,WAAW,CAAC,CAAC;MACtCV,MAAM,GAAGA,MAAM,CAACC,MAAM,CACnBC,CAAC,IAAK,CAACA,CAAC,CAAChC,MAAM,IAAI,EAAE,EAAEwC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACF,CAAC,CAAC,IAAI,CAACP,CAAC,CAACP,GAAG,IAAI,EAAE,EAAEgB,QAAQ,CAACF,CAAC,CAC/E,CAAC;IACH;IAEAzD,eAAe,CAACgD,MAAM,CAAC;EACzB,CAAC,EAAE,CAACnD,IAAI,EAAEgB,OAAO,CAAC,CAAC;EAEnBpC,SAAS,CAAC,MAAM;IACdsE,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAAClD,IAAI,EAAEgB,OAAO,EAAEkC,YAAY,CAAC,CAAC;;EAEjC;EACA,MAAMa,aAAa,GAAG,MAAOC,EAAE,IAAK;IAAA,IAAAC,cAAA;IAClC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CACrB,8CAA8CC,kBAAkB,CAACJ,EAAE,CAAC,UACtE,CAAC;IACD,MAAMK,IAAI,GAAG,MAAMH,GAAG,CAACG,IAAI,CAAC,CAAC;IAC7B,MAAMC,IAAI,IAAAL,cAAA,GAAGI,IAAI,CAACE,QAAQ,cAAAN,cAAA,uBAAbA,cAAA,CAAgB,CAAC,CAAC;IAC/B,IAAI,CAACK,IAAI,EAAE,OAAO,IAAI;IACtB,MAAM,CAACE,GAAG,EAAE1D,GAAG,CAAC,GAAGwD,IAAI,CAACG,QAAQ,CAACC,WAAW;IAC5C,OAAO;MAAE5D,GAAG;MAAEC,GAAG,EAAEyD;IAAI,CAAC;EAC1B,CAAC;;EAED;EACA,MAAMG,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChC,IAAIA,CAAC,EAAEA,CAAC,CAACC,cAAc,CAAC,CAAC;IAEzB,IAAI,CAACzE,WAAW,IAAI,CAACE,UAAU,EAAE;MAC/BK,QAAQ,CAAC,2BAA2B,CAAC;MACrC;IACF;IAEAF,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,MAAMuD,GAAG,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;QACxDW,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnB9E,WAAW;UACXE,UAAU;UACV6E,QAAQ,EAAEnE,OAAO,CAACE,MAAM,IAAI;QAC9B,CAAC;MACH,CAAC,CAAC;MAEF,MAAMkE,IAAI,GAAG,MAAMlB,GAAG,CAACkB,IAAI,CAAC,CAAC;MAC7B,IAAIC,EAAE,GAAG,IAAI;MACb,IAAI;QACFA,EAAE,GAAGD,IAAI,GAAGH,IAAI,CAACK,KAAK,CAACF,IAAI,CAAC,GAAG,IAAI;MACrC,CAAC,CAAC,OAAOG,QAAQ,EAAE;QACjB5E,QAAQ,CAAC,yCAAyCuD,GAAG,CAACsB,MAAM,GAAG,CAAC;QAChE/E,UAAU,CAAC,KAAK,CAAC;QACjB;MACF;MAEA,IAAI,CAACyD,GAAG,CAACuB,EAAE,EAAE;QAAA,IAAAC,GAAA;QACX/E,QAAQ,CAAC,EAAA+E,GAAA,GAAAL,EAAE,cAAAK,GAAA,uBAAFA,GAAA,CAAIhF,KAAK,KAAI,mBAAmBwD,GAAG,CAACsB,MAAM,GAAG,CAAC;QACvD/E,UAAU,CAAC,KAAK,CAAC;QACjB;MACF;MAEA,MAAMkF,SAAS,GAAG,CAACN,EAAE,CAACrF,IAAI,IAAI,EAAE,EAAEuB,GAAG,CAAC,CAAC8B,CAAC,EAAEuC,CAAC,MAAM;QAC/CC,EAAE,EAAED,CAAC;QACLlD,IAAI,EAAEW,CAAC,CAACyC,GAAG,IAAIzC,CAAC,CAAC0C,cAAc,IAAI,SAAS;QAC5CpD,OAAO,EAAEU,CAAC,CAAC2C,OAAO,IAAI3C,CAAC,CAAC4C,aAAa,IAAI,EAAE;QAC3C5E,MAAM,EACJgC,CAAC,CAAC6C,OAAO,IACT7C,CAAC,CAAC8C,2BAA2B,IAC7B9C,CAAC,CAAC+C,WAAW,IACb,EAAE;QACJrD,IAAI,EAAEM,CAAC,CAACgD,QAAQ,IAAIhD,CAAC,CAACN,IAAI,IAAI,EAAE;QAChCC,SAAS,EAAEK,CAAC,CAACL,SAAS,IAAI,EAAE;QAC5BQ,QAAQ,EAAEH,CAAC,CAACG,QAAQ,IAAI,EAAE;QAC1BtB,QAAQ,EAAEmB,CAAC,CAACnB,QAAQ,IAAImB,CAAC,CAACvC,GAAG,IAAI,IAAI;QACrCqB,SAAS,EAAEkB,CAAC,CAAClB,SAAS,IAAIkB,CAAC,CAACtC,GAAG,IAAI,IAAI;QACvC8B,KAAK,EAAEQ,CAAC,CAACR,KAAK,IAAI,EAAE;QACpBD,WAAW,EAAES,CAAC,CAACT,WAAW,IAAI,EAAE;QAChCE,GAAG,EAAEO,CAAC,CAACP,GAAG,IAAIO,CAAC,CAACiD,mBAAmB,IAAI,EAAE;QACzCC,KAAK,EAAElD,CAAC,CAACkD,KAAK,IAAI,QAAQX,CAAC;MAC7B,CAAC,CAAC,CAAC;MAEH3F,OAAO,CAAC0F,SAAS,CAAC;;MAElB;MACA,MAAMa,YAAY,GAAG,MAAMzC,aAAa,CAACzD,UAAU,CAAC;MACpD,IAAIkG,YAAY,IAAI1G,WAAW,CAACwB,OAAO,EAAE;QACvCxB,WAAW,CAACwB,OAAO,CAACE,OAAO,CAAC,CAACgF,YAAY,CAAC1F,GAAG,EAAE0F,YAAY,CAACzF,GAAG,CAAC,EAAE,EAAE,CAAC;QACrEF,SAAS,CAAC2F,YAAY,CAAC;MACzB;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZ9F,QAAQ,CAAC8F,GAAG,CAACC,OAAO,IAAI,eAAe,CAAC;IAC1C,CAAC,SAAS;MACRjG,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMkG,kBAAkB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC3C5F,UAAU,CAAE6F,IAAI,KAAM;MACpB,GAAGA,IAAI;MACP,CAACF,KAAK,GAAGC;IACX,CAAC,CAAC,CAAC;EACL,CAAC;EAED,oBACE3H,OAAA;IAAK6H,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAQ,CAAE;IAAAC,QAAA,gBAE/ChI,OAAA;MAAK6H,KAAK,EAAE;QAAEI,KAAK,EAAE,OAAO;QAAEC,OAAO,EAAE,MAAM;QAAEC,SAAS,EAAE;MAAO,CAAE;MAAAH,QAAA,gBACjEhI,OAAA;QAAAgI,QAAA,EAAI;MAAqB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE9BvI,OAAA;QAAMwI,QAAQ,EAAE/C,YAAa;QAACoC,KAAK,EAAE;UAAEY,YAAY,EAAE;QAAO,CAAE;QAAAT,QAAA,gBAC5DhI,OAAA;UAAK6H,KAAK,EAAE;YAAEY,YAAY,EAAE;UAAM,CAAE;UAAAT,QAAA,gBAClChI,OAAA;YAAAgI,QAAA,EAAO;UAAqC;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACpDvI,OAAA;YACE0I,IAAI,EAAC,MAAM;YACXf,KAAK,EAAEzG,WAAY;YACnByH,QAAQ,EAAGjD,CAAC,IAAKvE,cAAc,CAACuE,CAAC,CAACkD,MAAM,CAACjB,KAAK,CAAE;YAChDkB,WAAW,EAAC,eAAe;YAC3BhB,KAAK,EAAE;cAAEI,KAAK,EAAE,MAAM;cAAEC,OAAO,EAAE,KAAK;cAAEY,SAAS,EAAE;YAAM;UAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENvI,OAAA;UAAK6H,KAAK,EAAE;YAAEY,YAAY,EAAE;UAAM,CAAE;UAAAT,QAAA,gBAClChI,OAAA;YAAAgI,QAAA,EAAO;UAAwB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvCvI,OAAA;YACE0I,IAAI,EAAC,MAAM;YACXf,KAAK,EAAEvG,UAAW;YAClBuH,QAAQ,EAAGjD,CAAC,IAAKrE,aAAa,CAACqE,CAAC,CAACkD,MAAM,CAACjB,KAAK,CAAE;YAC/CkB,WAAW,EAAC,WAAW;YACvBhB,KAAK,EAAE;cAAEI,KAAK,EAAE,MAAM;cAAEC,OAAO,EAAE,KAAK;cAAEY,SAAS,EAAE;YAAM;UAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENvI,OAAA;UAAK6H,KAAK,EAAE;YAAEY,YAAY,EAAE;UAAM,CAAE;UAAAT,QAAA,gBAClChI,OAAA;YAAAgI,QAAA,GAAO,eAAa,EAAClG,OAAO,CAACE,MAAM;UAAA;YAAAoG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC5CvI,OAAA;YACE0I,IAAI,EAAC,OAAO;YACZK,GAAG,EAAE,CAAE;YACPC,GAAG,EAAE,GAAI;YACTrB,KAAK,EAAE7F,OAAO,CAACE,MAAO;YACtB2G,QAAQ,EAAGjD,CAAC,IACV+B,kBAAkB,CAAC,QAAQ,EAAEtE,MAAM,CAACuC,CAAC,CAACkD,MAAM,CAACjB,KAAK,CAAC,CACpD;YACDE,KAAK,EAAE;cAAEI,KAAK,EAAE;YAAO;UAAE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENvI,OAAA;UAAQ0I,IAAI,EAAC,QAAQ;UAACO,QAAQ,EAAE3H,OAAQ;UAACuG,KAAK,EAAE;YAAEI,KAAK,EAAE;UAAO,CAAE;UAAAD,QAAA,EAC/D1G,OAAO,GAAG,cAAc,GAAG;QAAU;UAAA8G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAEPvI,OAAA;QAAK6H,KAAK,EAAE;UAAEY,YAAY,EAAE;QAAM,CAAE;QAAAT,QAAA,gBAClChI,OAAA;UAAAgI,QAAA,EAAI;QAAO;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChBvI,OAAA;UAAAgI,QAAA,gBACEhI,OAAA;YACE0I,IAAI,EAAC,UAAU;YACfQ,OAAO,EAAEpH,OAAO,CAACG,QAAS;YAC1B0G,QAAQ,EAAGjD,CAAC,IAAK+B,kBAAkB,CAAC,UAAU,EAAE/B,CAAC,CAACkD,MAAM,CAACM,OAAO;UAAE;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnE,CAAC,EACD,GAAG,EAAC,sBACP;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRvI,OAAA;UAAAoI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACNvI,OAAA;UAAAgI,QAAA,gBACEhI,OAAA;YACE0I,IAAI,EAAC,UAAU;YACfQ,OAAO,EAAEpH,OAAO,CAACI,QAAS;YAC1ByG,QAAQ,EAAGjD,CAAC,IAAK+B,kBAAkB,CAAC,UAAU,EAAE/B,CAAC,CAACkD,MAAM,CAACM,OAAO;UAAE;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnE,CAAC,EACD,GAAG,EAAC,YACP;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRvI,OAAA;UAAAoI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACNvI,OAAA;UACE0I,IAAI,EAAC,MAAM;UACXf,KAAK,EAAE7F,OAAO,CAACK,MAAO;UACtBwG,QAAQ,EAAGjD,CAAC,IAAK+B,kBAAkB,CAAC,QAAQ,EAAE/B,CAAC,CAACkD,MAAM,CAACjB,KAAK,CAAE;UAC9DkB,WAAW,EAAC,2BAA2B;UACvChB,KAAK,EAAE;YAAEI,KAAK,EAAE,MAAM;YAAEC,OAAO,EAAE,KAAK;YAAEY,SAAS,EAAE;UAAM;QAAE;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAEL/G,KAAK,iBACJxB,OAAA;QAAK6H,KAAK,EAAE;UAAEsB,KAAK,EAAE,KAAK;UAAEV,YAAY,EAAE;QAAM,CAAE;QAAAT,QAAA,EAAExG;MAAK;QAAA4G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAChE,eAEDvI,OAAA;QAAAgI,QAAA,gBACEhI,OAAA;UAAAgI,QAAA,GAAI,2BAAsB,EAAChH,YAAY,CAACoI,MAAM,EAAC,GAAC;QAAA;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrDvI,OAAA;UAAI6H,KAAK,EAAE;YAAEwB,SAAS,EAAE,MAAM;YAAEnB,OAAO,EAAE,CAAC;YAAEoB,SAAS,EAAE,OAAO;YAAEnB,SAAS,EAAE;UAAO,CAAE;UAAAH,QAAA,EACjFhH,YAAY,CAACqB,GAAG,CAAE8B,CAAC,iBAClBnE,OAAA;YAEE6H,KAAK,EAAE;cACL0B,YAAY,EAAE,gBAAgB;cAC9BrB,OAAO,EAAE,OAAO;cAChBsB,MAAM,EAAE;YACV,CAAE;YACFC,OAAO,EAAEA,CAAA,KAAM;cACb,IAAItF,CAAC,CAACnB,QAAQ,IAAImB,CAAC,CAAClB,SAAS,IAAIrC,WAAW,CAACwB,OAAO,EAAE;gBACpD,MAAMR,GAAG,GAAGsB,UAAU,CAACiB,CAAC,CAACnB,QAAQ,CAAC;gBAClC,MAAMnB,GAAG,GAAGqB,UAAU,CAACiB,CAAC,CAAClB,SAAS,CAAC;gBACnC,IAAI,CAACE,MAAM,CAACC,KAAK,CAACxB,GAAG,CAAC,IAAI,CAACuB,MAAM,CAACC,KAAK,CAACvB,GAAG,CAAC,EAAE;kBAC5CjB,WAAW,CAACwB,OAAO,CAACE,OAAO,CAAC,CAACV,GAAG,EAAEC,GAAG,CAAC,EAAE,EAAE,CAAC;gBAC7C;cACF;YACF,CAAE;YAAAmG,QAAA,gBAEFhI,OAAA;cAAAgI,QAAA,EAAS7D,CAAC,CAACX;YAAI;cAAA4E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC,eACzBvI,OAAA;cAAAoI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,EACLpE,CAAC,CAACV,OAAO,eACVzD,OAAA;cAAAoI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,EACLpE,CAAC,CAACT,WAAW,EAAC,GAAC,EAACS,CAAC,CAACR,KAAK,eACxB3D,OAAA;cAAAoI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,EACLpE,CAAC,CAACP,GAAG,EAAC,KAAG,EAACO,CAAC,CAAChC,MAAM;UAAA,GAtBdgC,CAAC,CAACkD,KAAK;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAuBV,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNvI,OAAA;MAAK6H,KAAK,EAAE;QAAE6B,IAAI,EAAE;MAAE,CAAE;MAAA1B,QAAA,eACtBhI,OAAA;QACE2J,GAAG,EAAEhJ,MAAO;QACZkH,KAAK,EAAE;UAAEI,KAAK,EAAE,MAAM;UAAEF,MAAM,EAAE;QAAO;MAAE;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC7H,EAAA,CA/TuBD,YAAY;AAAAmJ,EAAA,GAAZnJ,YAAY;AAAA,IAAAmJ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}